---
eleventyComputed:
  title: Backup and restore {{ en.DVLS }}
  description: Configure the {{ en.DVLS }} Backup Scheduler and restore your {{ en.DVLS }} instance succeeding a disaster.
---
The following topic describes the requirements and the step to properly configure the {{ en.DVLS }} Backup Scheduler and instructions on how to restore your {{ en.DVLS }} instance succeeding a disaster.

{% snippet icon.badgeInfo %}
Check the backup of the SQL database and the web application folder integrity by restoring them in a staging environment.
{% endsnippet %}

## Backup configuration

1. Install the DevolutionsSchedulerService with the ***Install Scheduler*** button of the {{ en.DVLSCONSOLE }} it is not already installed. For more information please see [{{ en.DVLSCONSOLE }}](/server/management/devolutions-server-console/).
![Install Scheduler](https://cdnweb.devolutions.net/docs/docs_en_kb_KB4359.png)
1. Create a domain service account that will be used to run the service.
![Create a domain service](https://cdnweb.devolutions.net/docs/docs_en_kb_KB4360.png)
1. This service account must have proper permission on the destinations folder(s) to create files and needs at least the db_datareader and db_backupoperator rights on the SQL database.
![Login Properties](https://cdnweb.devolutions.net/docs/docs_en_kb_KB4361.png)
1. Create a network folder, it can be one for the database backup and one for the web application backup, that both the server which hosted the {{ en.DVLS }} instance and the SQL Server will have access to.
1. Configure the options in the Backup Manager. For more information please see [Backup Manager](/server/web-interface/administration/backup/backup-manager/).
1. In the following sample:
    * The database backup is ***enabled*** and will be saved in folder TeamShare\BackupDVLS\DB on DC machine.
    * The web backup is ***enabled*** and will be saved in folder TeamShare\BackupDVLS\Web on DC machine.
    * The administrators will be notified on backup failed.
    * The administrators will be notified on backup success.
![Backup configuration](https://cdnweb.devolutions.net/docs/docs_en_kb_KB6035.png)
    * The scheduled backup has been started on November 13, 2018, at 5:43 AM.
    * The scheduler will repeat the backup process every day.
![Scheduled backup](https://cdnweb.devolutions.net/docs/docs_en_kb_KB6036.png)

## Recovery Kit

 [When you create your {{ en.DVLS }} instance](/server/getting-started/installation/create-server-instance/) you will be promoted to create a ***Recovery Kit***, which you will need in the event that you no longer have access to {{ en.DVLS }}, or for a load balancing topology. The ***Recovery Kit*** is a ZIP folder generated by the {{ en.DVLSCONSOLE }}, which contains the encryption keys and a response file (which can be used to re-install {{ en.DVLS }} with the same specifications as the initial install).

{% snippet icon.shieldNotice %}
We recommend to protect the Recovery Kit file in a safe to avoid data loss if {{ en.DVLS }} has to be restored.
{% endsnippet %}

To generate the ***Recovery Kit***, go to the ribbon and click ***Tools*** – ***Generate***.

![Tools – Generate](https://cdnweb.devolutions.net/docs/docs_en_kb_KB6039.png)

To generate the ***Recovery Kit***, select ***Location*** and ***Export path***. If the ***Include sensitive data*** option is enabled, the SQL authentication credentials will be included in the ***Recovery Kit***. Enter the password protecting the ***Encryption Keys***.

![Generate Recovery Kit](https://cdnweb.devolutions.net/docs/docs_en_kb_KB6038.png)

Click ***OK*** to close the window and generate the ***Recovery Kit***.
## Restore steps

The following instructions explain how to restore the {{ en.DVLS }} environment. The first part explains the restore process on an existing installation and the second part details the steps to restore {{ en.DVLS }} on new machines.

{% snippet icon.badgeHelp %}
Ensure that all prerequisites are installed on the machine where the {{ en.DVLS }} instance is hosted. For more information please see [Installing Web Roles prerequisites](/server/getting-started/installation/installing-web-server-prerequisites/).
{% endsnippet %}

{% snippet icon.badgeHelp %}
If the {{ en.DVLS }} deployment is hosted in a Load Balancing or High Availability topology, please see [Manage Encryption Keys](/kb/devolutions-server/how-to-articles/manage-encryption-keys/).
{% endsnippet %}

{% snippet icon.badgeCaution %}
Be sure that the database and the web application match before launching the restore process or this could lead to unwanted behavior.
{% endsnippet %}

1. If the restore process goal is to overwrite the current installation:
    1. Ensure that the instance users have the offline mode enabled and they are not making any modifications.
{type="a"}
    1. Ensure that the **DevolutionsSchedulerService** service is not running.
![DevolutionsSchedulerService](https://cdnweb.devolutions.net/docs/docs_en_kb_KB4363.png)
    1. **Restore** the **SQL database**.
    1. Overwrite the web application folder with the content of the web application .zip file.
    1. Start the **DevolutionsSchedulerService** service and ensure that the **Startup** type is set to **Automatic**.
![Startup type](https://cdnweb.devolutions.net/docs/docs_en_kb_KB4364.png)
    1. Reconfigure the **Backup Scheduler** feature.
1. If the goal is to restore {{ en.DVLS }} and the SQL database on new servers:
    1. **Restore** the **SQL database** on the new server.
{type="a"}
    1. Fix every SQL login account that has been used to connect on the database from.
    1. Follow instructions in [Create {{ en.DVLS }} instance](/server/getting-started/installation/create-server-instance/).
    1. **Overwrite** the web application folder with the content of the web application .zip file.
    1. **Reconfigure** the **Backup Scheduler** feature.
